# C言語

## グローバル変数

次はグローバルの宣言：

``` c
extern char foo[5];
```

次はグローバルの定義：

``` c
char foo[5];
```

グローバル変数は常に 0（に当たるデフォルト）で初期化されるので、foo の値は単に `"\0\0\0\0\0"`となる。

## 外部グローバル変数の初期化

コンパイラはグローバルの宣言をみると、特にアセンブリを出力しないから、`extern int foo = 3;` を書いても値は参照先のに変わりない。

## static キーワード

1. ローカル変数にstaticをつけて、関数を抜けた後でも値が保存されるようにする
2. グローバル変数や関数をファイルスコープにする（すなわち private に）

private 等のより正確なキーワードは使われなかったのは古い C ファイルとの互換性のためだ。1番目のために static はすでにキーワードになっていた

## 左辺値

左辺値になれるのは**メモリのアドレスを指定する式だけ**：

1. 変数
2. ポインタ
3. 構造体メンバなど

左辺値になれない表現の例：

* a+1：a が変数だが、1を足すとただの数字になる
* (&a)+1：同じく、普通の整数になってしまった
* *((&a)+1)：stack smashing detected エラー（適当にスタックの領域を踏むことは許されていない）
